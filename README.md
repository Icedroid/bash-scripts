# bash-scripts

## 参考

[https://mp.weixin.qq.com/s/sAoz5JvZos1Dk2vk4Qa6Ew?scene=25#wechat_redirect]

## 一些额外的小 tip

1、在条件判断时，尽量使用双中括号"[["而非单中括号"["。单中括号是一个 Linux 命令，每次使用都会 fork 一个子进程。双中括号是 shell 关键字，更加强大，可完全替代单中括号

2、判断时，有个小技巧：[[ "z${var}" = "z" ]] 加入任意前导字符（此处是 z）可以防止 var 变量为空时脚本报错

3、利用/dev/null 过滤不需要的输出信息：\$ command > /dev/null 2>&1

4、变量可以习惯性使用{}包围，以防意外情况，且用双引号包围是个好习惯，如 "\${var}"

5、把 then,do 等和 if、while 或者 for 写在同一行，不换行

6、一行太长时使用 \ 进行换行，换行原则是整齐美观

7、禁止直接操作$1、$2 等参数，除非这些变量只用一次

8、整数运算使用$(())，如 echo $((3+4)) ;小数运算使用 bc 计算器，如 echo "scale=2; 5/3" |bc

9、尽量使用\$()将命令结果赋值给变量，而非使用反引号

10、尽量使用绝对路径，不易出错

11、shell 脚本 main 函数接收参数时，尽量使用 main "\$@" 的形式。以下是各种形式传参的结果：
